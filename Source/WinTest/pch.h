#pragma once

///////////////////////////////////////////////////////////////////////////////
// Определения Windows
///////////////////////////////////////////////////////////////////////////////
#define WINCRYPTO_EXPORTS
#define WIN32_LEAN_AND_MEAN
#define STRICT
#include <windows.h>
#include <wincrypt.h>
#include <memory>       

///////////////////////////////////////////////////////////////////////////////
// Определения SAL (для сборки SDK 7)
///////////////////////////////////////////////////////////////////////////////
#if !defined _Field_size_bytes_
#define _Field_size_bytes_(size)
#endif 
#if !defined _In_reads_bytes_
#define _In_reads_bytes_(Length)
#endif 

///////////////////////////////////////////////////////////////////////////////
// Стандартная библиотека C++
///////////////////////////////////////////////////////////////////////////////
#if __cplusplus < 201103L && defined _MSC_VER

///////////////////////////////////////////////////////////////////////////////
// Определение ключевых слов C++11
///////////////////////////////////////////////////////////////////////////////
#if _MSC_VER <= 1800
#define alignof     __alignof
#if _MSC_VER <= 1600
#define override    
#define noexcept    
#if _MSC_VER <= 1500
#define nullptr     0
#endif 
#endif 
#endif 

///////////////////////////////////////////////////////////////////////////////
// Разделяемый указатель shared_ptr
///////////////////////////////////////////////////////////////////////////////
namespace std {
#if defined _HAS_TR1
using tr1::shared_ptr; 
#endif 
}
#endif 


///////////////////////////////////////////////////////////////////////////////
// Определения трассировки
///////////////////////////////////////////////////////////////////////////////
#define WPP_CONTROL_NAME WinBase
#if defined _WIN32
#define WPP_CONTROL_GUID (85D60249, 818B, 4CC1, A5F8, 28D145102562)
#endif 
#include "Trace.h"
